<!DOCTYPE html>
<html>
<head>
<title>systemd</title>
<link href="style.css" rel="stylesheet" type="text/css" />
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="main.js"></script>
</head>
<body>
<form class="vertical-form">
<h1>Systemd escaper</h1>
<input id="path" type=text placeholder="path" />
<input id="escaped" type=text placeholder="escaped systemd device" />
</form>

<p><code>/dev/input/by-id/usb-Chicony_Electronics_Co.__Ltd._Integrated_Camera-event-if00</code> should be escaped IIUC as:<br> <code>dev-input-by\x2did-usb\x2dChicony_Electronics_Co.__Ltd._Integrated_Camera\x2devent\x2dif00.device</code></p>

<div id=implement>
<p>Some unit names reflect paths existing in the file system namespace. Example: a device unit dev-sda.device refers to a device with the device node /dev/sda in the file system namespace. If this applies, a special way to escape the path name is used, so that the result is usable as part of a filename. Basically, given a path, "/" is replaced by "-", and all unprintable characters and the "-" are replaced by C-style "\x20" escapes. The root directory "/" is encoded as single dash, while otherwise the initial and ending "/" is removed from all paths during transformation. This escaping is reversible.</p>
<p><a href=http://www.freedesktop.org/software/systemd/man/systemd.unit.html>http://www.freedesktop.org/software/systemd/man/systemd.unit.html</a></p>
</div>

<footer>By hendry@iki.fi, Could it be better? <a href="https://github.com/kaihendry/systemd-escape">MIT source code</a></footer>
</body>
</html>
